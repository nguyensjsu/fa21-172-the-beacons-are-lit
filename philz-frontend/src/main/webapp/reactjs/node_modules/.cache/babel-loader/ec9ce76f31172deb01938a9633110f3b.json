{"ast":null,"code":"var _jsxFileName = \"/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/src/components/Product/Product.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { saveBook, fetchBook, updateBook, fetchLanguages, fetchGenres } from \"../../services/index\";\nimport { Card, Form, Button, Col, InputGroup, Image } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSave, faPlusSquare, faUndo, faList, faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport MyToast from \"../MyToast\";\n\nclass Product extends Component {\n  constructor(props) {\n    super(props);\n    this.initialState = {\n      id: \"\",\n      name: \"\",\n      roast: \"\",\n      price: \"\"\n    };\n\n    this.submitProduct = event => {\n      event.preventDefault();\n      const product = {\n        name: this.state.name,\n        roast: this.state.roas,\n        coverPhotoURL: this.state.coverPhotoURL,\n        isbnNumber: this.state.isbnNumber,\n        price: this.state.price,\n        language: this.state.language,\n        genre: this.state.genre\n      };\n      this.props.saveBook(book);\n      setTimeout(() => {\n        if (this.props.bookObject.book != null) {\n          this.setState({\n            show: true,\n            method: \"post\"\n          });\n          setTimeout(() => this.setState({\n            show: false\n          }), 3000);\n        } else {\n          this.setState({\n            show: false\n          });\n        }\n      }, 2000);\n      this.setState(this.initialState);\n    };\n\n    this.updateBook = event => {\n      event.preventDefault();\n      const book = {\n        id: this.state.id,\n        title: this.state.title,\n        author: this.state.author,\n        coverPhotoURL: this.state.coverPhotoURL,\n        isbnNumber: this.state.isbnNumber,\n        price: this.state.price,\n        language: this.state.language,\n        genre: this.state.genre\n      };\n      this.props.updateBook(book);\n      setTimeout(() => {\n        if (this.props.bookObject.book != null) {\n          this.setState({\n            show: true,\n            method: \"put\"\n          });\n          setTimeout(() => this.setState({\n            show: false\n          }), 3000);\n        } else {\n          this.setState({\n            show: false\n          });\n        }\n      }, 2000);\n      this.setState(this.initialState);\n    };\n\n    this.bookChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.bookList = () => {\n      return this.props.history.push(\"/list\");\n    };\n\n    this.state = this.initialState;\n  }\n\n  componentDidMount() {\n    const productId = +this.props.match.params.id;\n\n    if (productId) {\n      this.findBookById(bookId);\n    }\n\n    this.findAllLanguages();\n  }\n\n  render() {\n    const _this$state = this.state,\n          title = _this$state.title,\n          author = _this$state.author,\n          coverPhotoURL = _this$state.coverPhotoURL,\n          isbnNumber = _this$state.isbnNumber,\n          price = _this$state.price,\n          language = _this$state.language,\n          genre = _this$state.genre;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: this.state.show ? \"block\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(MyToast, {\n      show: this.state.show,\n      message: this.state.method === \"put\" ? \"Book Updated Successfully.\" : \"Book Saved Successfully.\",\n      type: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(Card, {\n      className: \"border border-dark bg-dark text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: this.state.id ? faEdit : faPlusSquare,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), \" \", this.state.id ? \"Update Book\" : \"Add New Book\"), React.createElement(Form, {\n      onReset: this.resetBook,\n      onSubmit: this.state.id ? this.updateBook : this.submitBook,\n      id: \"bookFormId\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Title\"), React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"title\",\n      value: title,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridAuthor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Author\"), React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"author\",\n      value: author,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book Author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridCoverPhotoURL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Cover Photo URL\"), React.createElement(InputGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"coverPhotoURL\",\n      value: coverPhotoURL,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book Cover Photo URL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(InputGroup.Append, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, this.state.coverPhotoURL !== \"\" && React.createElement(Image, {\n      src: this.state.coverPhotoURL,\n      roundedRight: true,\n      width: \"40\",\n      height: \"38\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridISBNNumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"ISBN Number\"), React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"isbnNumber\",\n      value: isbnNumber,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book ISBN Number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Price\"), React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"price\",\n      value: price,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book Price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridLanguage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Language\"), React.createElement(Form.Control, {\n      required: true,\n      as: \"select\",\n      custom: true,\n      onChange: this.bookChange,\n      name: \"language\",\n      value: language,\n      className: \"bg-dark text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, this.state.languages.map(language => React.createElement(\"option\", {\n      key: language.value,\n      value: language.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, language.display)))), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridGenre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"Genre\"), React.createElement(Form.Control, {\n      required: true,\n      as: \"select\",\n      custom: true,\n      onChange: this.bookChange,\n      name: \"genre\",\n      value: genre,\n      className: \"bg-dark text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, this.state.genres.map(genre => React.createElement(\"option\", {\n      key: genre.value,\n      value: genre.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, genre.display)))))), React.createElement(Card.Footer, {\n      style: {\n        textAlign: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"sm\",\n      variant: \"success\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }), \" \", this.state.id ? \"Update\" : \"Save\"), \" \", React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      type: \"reset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faUndo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), \" Reset\"), \" \", React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      type: \"button\",\n      onClick: () => this.bookList(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), \" Book List\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    bookObject: state.book\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveBook: book => dispatch(saveBook(book)),\n    fetchBook: bookId => dispatch(fetchBook(bookId)),\n    updateBook: book => dispatch(updateBook(book)),\n    fetchLanguages: () => dispatch(fetchLanguages()),\n    fetchGenres: () => dispatch(fetchGenres())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Book);","map":{"version":3,"sources":["/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/src/components/Product/Product.js"],"names":["React","Component","connect","saveBook","fetchBook","updateBook","fetchLanguages","fetchGenres","Card","Form","Button","Col","InputGroup","Image","FontAwesomeIcon","faSave","faPlusSquare","faUndo","faList","faEdit","MyToast","Product","constructor","props","initialState","id","name","roast","price","submitProduct","event","preventDefault","product","state","roas","coverPhotoURL","isbnNumber","language","genre","book","setTimeout","bookObject","setState","show","method","title","author","bookChange","target","value","bookList","history","push","componentDidMount","productId","match","params","findBookById","bookId","findAllLanguages","render","display","resetBook","submitBook","languages","map","genres","textAlign","mapStateToProps","mapDispatchToProps","dispatch","Book"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport { connect } from \"react-redux\";\nimport {\n  saveBook,\n  fetchBook,\n  updateBook,\n  fetchLanguages,\n  fetchGenres,\n} from \"../../services/index\";\n\nimport { Card, Form, Button, Col, InputGroup, Image } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSave,\n  faPlusSquare,\n  faUndo,\n  faList,\n  faEdit,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport MyToast from \"../MyToast\";\n\nclass Product extends Component {\n    constructor(props) {\n      super(props);\n      this.state = this.initialState;\n    }\n  \n    initialState = {\n      id: \"\",\n      name: \"\",\n      roast: \"\",\n      price: \"\",\n    };\n  \n    componentDidMount() {\n      const productId = +this.props.match.params.id;\n      if (productId) {\n        this.findBookById(bookId);\n      }\n      this.findAllLanguages();\n    }\n  \n    submitProduct = (event) => {\n      event.preventDefault();\n  \n      const product = {\n        name: this.state.name,\n        roast: this.state.roas,\n        coverPhotoURL: this.state.coverPhotoURL,\n        isbnNumber: this.state.isbnNumber,\n        price: this.state.price,\n        language: this.state.language,\n        genre: this.state.genre,\n      };\n  \n      this.props.saveBook(book);\n      setTimeout(() => {\n        if (this.props.bookObject.book != null) {\n          this.setState({ show: true, method: \"post\" });\n          setTimeout(() => this.setState({ show: false }), 3000);\n        } else {\n          this.setState({ show: false });\n        }\n      }, 2000);\n      this.setState(this.initialState);\n    };\n  \n    updateBook = (event) => {\n      event.preventDefault();\n  \n      const book = {\n        id: this.state.id,\n        title: this.state.title,\n        author: this.state.author,\n        coverPhotoURL: this.state.coverPhotoURL,\n        isbnNumber: this.state.isbnNumber,\n        price: this.state.price,\n        language: this.state.language,\n        genre: this.state.genre,\n      };\n      this.props.updateBook(book);\n      setTimeout(() => {\n        if (this.props.bookObject.book != null) {\n          this.setState({ show: true, method: \"put\" });\n          setTimeout(() => this.setState({ show: false }), 3000);\n        } else {\n          this.setState({ show: false });\n        }\n      }, 2000);\n      this.setState(this.initialState);\n    };\n  \n    bookChange = (event) => {\n      this.setState({\n        [event.target.name]: event.target.value,\n      });\n    };\n  \n    bookList = () => {\n      return this.props.history.push(\"/list\");\n    };\n  \n    render() {\n      const { title, author, coverPhotoURL, isbnNumber, price, language, genre } =\n        this.state;\n  \n      return (\n        <div>\n          <div style={{ display: this.state.show ? \"block\" : \"none\" }}>\n            <MyToast\n              show={this.state.show}\n              message={\n                this.state.method === \"put\"\n                  ? \"Book Updated Successfully.\"\n                  : \"Book Saved Successfully.\"\n              }\n              type={\"success\"}\n            />\n          </div>\n          <Card className={\"border border-dark bg-dark text-white\"}>\n            <Card.Header>\n              <FontAwesomeIcon icon={this.state.id ? faEdit : faPlusSquare} />{\" \"}\n              {this.state.id ? \"Update Book\" : \"Add New Book\"}\n            </Card.Header>\n            <Form\n              onReset={this.resetBook}\n              onSubmit={this.state.id ? this.updateBook : this.submitBook}\n              id=\"bookFormId\"\n            >\n              <Card.Body>\n                <Form.Row>\n                  <Form.Group as={Col} controlId=\"formGridTitle\">\n                    <Form.Label>Title</Form.Label>\n                    <Form.Control\n                      required\n                      autoComplete=\"off\"\n                      type=\"test\"\n                      name=\"title\"\n                      value={title}\n                      onChange={this.bookChange}\n                      className={\"bg-dark text-white\"}\n                      placeholder=\"Enter Book Title\"\n                    />\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"formGridAuthor\">\n                    <Form.Label>Author</Form.Label>\n                    <Form.Control\n                      required\n                      autoComplete=\"off\"\n                      type=\"test\"\n                      name=\"author\"\n                      value={author}\n                      onChange={this.bookChange}\n                      className={\"bg-dark text-white\"}\n                      placeholder=\"Enter Book Author\"\n                    />\n                  </Form.Group>\n                </Form.Row>\n                <Form.Row>\n                  <Form.Group as={Col} controlId=\"formGridCoverPhotoURL\">\n                    <Form.Label>Cover Photo URL</Form.Label>\n                    <InputGroup>\n                      <Form.Control\n                        required\n                        autoComplete=\"off\"\n                        type=\"test\"\n                        name=\"coverPhotoURL\"\n                        value={coverPhotoURL}\n                        onChange={this.bookChange}\n                        className={\"bg-dark text-white\"}\n                        placeholder=\"Enter Book Cover Photo URL\"\n                      />\n                      <InputGroup.Append>\n                        {this.state.coverPhotoURL !== \"\" && (\n                          <Image\n                            src={this.state.coverPhotoURL}\n                            roundedRight\n                            width=\"40\"\n                            height=\"38\"\n                          />\n                        )}\n                      </InputGroup.Append>\n                    </InputGroup>\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"formGridISBNNumber\">\n                    <Form.Label>ISBN Number</Form.Label>\n                    <Form.Control\n                      required\n                      autoComplete=\"off\"\n                      type=\"test\"\n                      name=\"isbnNumber\"\n                      value={isbnNumber}\n                      onChange={this.bookChange}\n                      className={\"bg-dark text-white\"}\n                      placeholder=\"Enter Book ISBN Number\"\n                    />\n                  </Form.Group>\n                </Form.Row>\n                <Form.Row>\n                  <Form.Group as={Col} controlId=\"formGridPrice\">\n                    <Form.Label>Price</Form.Label>\n                    <Form.Control\n                      required\n                      autoComplete=\"off\"\n                      type=\"test\"\n                      name=\"price\"\n                      value={price}\n                      onChange={this.bookChange}\n                      className={\"bg-dark text-white\"}\n                      placeholder=\"Enter Book Price\"\n                    />\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"formGridLanguage\">\n                    <Form.Label>Language</Form.Label>\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      custom\n                      onChange={this.bookChange}\n                      name=\"language\"\n                      value={language}\n                      className={\"bg-dark text-white\"}\n                    >\n                      {this.state.languages.map((language) => (\n                        <option key={language.value} value={language.value}>\n                          {language.display}\n                        </option>\n                      ))}\n                    </Form.Control>\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"formGridGenre\">\n                    <Form.Label>Genre</Form.Label>\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      custom\n                      onChange={this.bookChange}\n                      name=\"genre\"\n                      value={genre}\n                      className={\"bg-dark text-white\"}\n                    >\n                      {this.state.genres.map((genre) => (\n                        <option key={genre.value} value={genre.value}>\n                          {genre.display}\n                        </option>\n                      ))}\n                    </Form.Control>\n                  </Form.Group>\n                </Form.Row>\n              </Card.Body>\n              <Card.Footer style={{ textAlign: \"right\" }}>\n                <Button size=\"sm\" variant=\"success\" type=\"submit\">\n                  <FontAwesomeIcon icon={faSave} />{\" \"}\n                  {this.state.id ? \"Update\" : \"Save\"}\n                </Button>{\" \"}\n                <Button size=\"sm\" variant=\"info\" type=\"reset\">\n                  <FontAwesomeIcon icon={faUndo} /> Reset\n                </Button>{\" \"}\n                <Button\n                  size=\"sm\"\n                  variant=\"info\"\n                  type=\"button\"\n                  onClick={() => this.bookList()}\n                >\n                  <FontAwesomeIcon icon={faList} /> Book List\n                </Button>\n              </Card.Footer>\n            </Form>\n          </Card>\n        </div>\n      );\n    }\n  }\n  \n  const mapStateToProps = (state) => {\n    return {\n      bookObject: state.book,\n    };\n  };\n  \n  const mapDispatchToProps = (dispatch) => {\n    return {\n      saveBook: (book) => dispatch(saveBook(book)),\n      fetchBook: (bookId) => dispatch(fetchBook(bookId)),\n      updateBook: (book) => dispatch(updateBook(book)),\n      fetchLanguages: () => dispatch(fetchLanguages()),\n      fetchGenres: () => dispatch(fetchGenres()),\n    };\n  };\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Book);\n  "]},"metadata":{},"sourceType":"module"}