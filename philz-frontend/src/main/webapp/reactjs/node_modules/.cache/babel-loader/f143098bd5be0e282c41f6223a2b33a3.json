{"ast":null,"code":"import _slicedToArray from \"/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/src/components/Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport authToken from \"../utils/authToken\";\nimport { Alert } from \"react-bootstrap\";\nimport productImage from '../productImage.json';\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst Home = () => {\n  if (localStorage.jwtToken) {\n    authToken(localStorage.jwtToken);\n  }\n\n  const auth = useSelector(state => state.auth);\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        products = _useState2[0],\n        ProductList = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        cart = _useState4[0],\n        setCart = _useState4[1];\n\n  useEffect(() => {\n    if (products === \"\") {\n      axios.get(\"http://localhost:8081/rest/products\").then(response => {\n        ProductList(response.data);\n        console.log(\"data\", response.data);\n      });\n    }\n  }, [products]);\n\n  submitBook = event => {\n    event.preventDefault();\n    const product = {\n      name: this.state.name,\n      roast: this.state.roast,\n      price: this.state.price\n    };\n    this.props.saveProduct(product);\n    setTimeout(() => {\n      if (this.props.productObject.product != null) {\n        //this.setState({ show: true, method: \"post\" });\n        this.setState({\n          show: true\n        });\n        axios.post(\"http://localhost:8081/rest/api/${username}\", {\n          productL: [this.props.product],\n          username: 'test',\n          total: 9999\n        }).then(response => {\n          console.log(\"response is: \", response);\n          this.props.history.push({\n            pathname: '/list'\n          });\n        }).catch(function () {\n          console.log(\"error\");\n        });\n        setTimeout(() => this.setState({\n          show: false\n        }), 3000);\n      } else {\n        this.setState({\n          show: false\n        });\n      }\n    }, 2000);\n    this.setState(this.initialState);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Alert, {\n    style: {\n      backgroundColor: \"#343A40\",\n      color: \"#ffffff80\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Welcome \", auth.username), React.createElement(\"div\", {\n    className: \"hero is-primary\",\n    text: \"light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"hero-body container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Browse Our Products\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column columns is-multiline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, products && products.map(p => React.createElement(\"div\", {\n    className: \" column is-half\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"media\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"media-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, productImage.map(i => {\n    return React.createElement(\"img\", {\n      src: i.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    });\n  })), React.createElement(\"div\", {\n    className: \"media-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    style: {\n      textTransform: \"capitalize\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Coffee Name: \", p.name), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Blend: \", p.roast), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Price: $\", p.price), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Link, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \" Add to Cart \"), \"See Detail\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  })))))))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/src/components/Home.js"],"names":["React","useEffect","useState","useSelector","authToken","Alert","productImage","axios","Link","Home","localStorage","jwtToken","auth","state","products","ProductList","cart","setCart","get","then","response","data","console","log","submitBook","event","preventDefault","product","name","roast","price","props","saveProduct","setTimeout","productObject","setState","show","post","productL","username","total","history","push","pathname","catch","initialState","backgroundColor","color","map","p","i","image","textTransform"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport authToken from \"../utils/authToken\";\nimport { Alert } from \"react-bootstrap\";\nimport productImage from '../productImage.json';\nimport axios from \"axios\";\nimport {Link } from \"react-router-dom\";\n\nconst Home = () => {\n  if (localStorage.jwtToken) {\n    authToken(localStorage.jwtToken);\n  }\n\n  const auth = useSelector((state) => state.auth);\n  const [products, ProductList] = useState(\"\");\n  const [cart, setCart] = useState(\"\")\n\n  useEffect(() => {\n    if (products === \"\") {\n      axios.get(\"http://localhost:8081/rest/products\").then((response) => {\n        ProductList(response.data);\n        console.log(\"data\", response.data);\n      });\n    }\n  }, [products]);\n\n  submitBook = (event) => {\n    event.preventDefault();\n\n    const product = {\n      name: this.state.name,\n      roast: this.state.roast,\n      price: this.state.price,\n    };\n\n    this.props.saveProduct(product);\n    setTimeout(() => {\n      if (this.props.productObject.product != null) {\n        //this.setState({ show: true, method: \"post\" });\n        this.setState({ show: true});\n        axios.post(\"http://localhost:8081/rest/api/${username}\",{\n        productL : [this.props.product],\n        username: 'test',\n        total: 9999\n        })\n        .then((response)=>{\n        console.log(\"response is: \",response)\n        this.props.history.push({\n            pathname: '/list'\n        }); \n\n    }).catch(function(){\n      console.log(\"error\");\n    });\n        setTimeout(() => this.setState({ show: false }), 3000);\n      } else {\n        this.setState({ show: false });\n      }\n    }, 2000);\n    this.setState(this.initialState);\n\n    \n  };\n  return (\n    <>\n    <Alert style={{ backgroundColor: \"#343A40\", color: \"#ffffff80\" }}>\n      Welcome {auth.username}\n    </Alert>\n        <div className=\"hero is-primary\" text=\"light\">\n          <div className=\"hero-body container\">\n            <h4 className=\"title\">Browse Our Products</h4>\n          </div>\n        </div>\n        <br />\n        <div className=\"container\"  >\n          <div className=\"column columns is-multiline\">\n            {products &&\n              products.map((p) => (\n                <div className=\" column is-half\">\n                  <div className=\"box\">\n                    <div className=\"media\">\n                      <div className=\"media-left\">\n                        {productImage.map(i => {\n                          return( <img src={i.image}/>);\n                        })}\n                      </div>\n                      <div className=\"media-content\">\n                      <b style={{ textTransform: \"capitalize\"}} >\n                        Coffee Name: {p.name}\n                      </b>\n                      <div>Blend: {p.roast}</div>\n                      <div>Price: ${p.price}</div>\n                      <button><Link> Add to Cart </Link>\n                        See Detail\n                      </button>\n                      <p>\n                      \n                      </p>\n                      </div>\n                    </div>\n                    \n                  </div>\n                </div>\n                \n              ))}\n          </div>\n        </div>\n      </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}