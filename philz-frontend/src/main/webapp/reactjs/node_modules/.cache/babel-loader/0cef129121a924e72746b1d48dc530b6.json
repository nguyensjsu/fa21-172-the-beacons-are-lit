{"ast":null,"code":"import _slicedToArray from \"/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/src/components/Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport authToken from \"../utils/authToken\";\nimport { Alert } from \"react-bootstrap\";\nimport productImage from '../productImage.json';\nimport axios from \"axios\";\nimport { CartContextValue } from './ContextProvider';\n\nconst Home = () => {\n  if (localStorage.jwtToken) {\n    authToken(localStorage.jwtToken);\n  }\n\n  const auth = useSelector(state => state.auth);\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        products = _useState2[0],\n        ProductList = _useState2[1];\n\n  const _CartContextValue = CartContextValue(),\n        _CartContextValue2 = _slicedToArray(_CartContextValue, 2),\n        cartData = _CartContextValue2[0],\n        patch = _CartContextValue2[1];\n\n  useEffect(() => {\n    getCartApi();\n\n    if (products === \"\") {\n      axios.get(\"http://localhost:8081/rest/products\").then(response => {\n        ProductList(response.data);\n        console.log(\"data\", response.data);\n      });\n    }\n  }, [products]);\n\n  const getCartApi = () => {\n    httpPost(\"api/cart/{username}\", {}).then(res => {\n      res.json().then(data => {\n        if (res.ok) {\n          patch({\n            \"type\": \"add_cart\",\n            \"data\": data\n          }); //alert(\"Successfully added..\")\n        } else {\n          alert(data.message);\n        }\n      });\n    }, error => {\n      alert(error.message);\n    });\n  };\n\n  const addCartApi = productObj => {\n    let obj = {\n      \"productId\": productObj.id,\n      \"qty\": \"1\",\n      \"price\": productObj.price\n    };\n    httpPost(\"aapi/acart/{username}\", obj).then(res => {\n      res.json().then(data => {\n        if (res.ok) {\n          patch({\n            \"type\": \"add_cart\",\n            \"data\": data\n          });\n          alert(\"Successfully added..\");\n        } else {\n          alert(data.message);\n        }\n      });\n    }).catch(function (res) {\n      console.log(\"Error \", res); //alert(error.message);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Alert, {\n    style: {\n      backgroundColor: \"#343A40\",\n      color: \"#ffffff80\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Welcome \", auth.username), React.createElement(\"div\", {\n    className: \"hero is-primary\",\n    text: \"light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"hero-body container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Our Products\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column columns is-multiline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, products && products.map(p => React.createElement(\"div\", {\n    className: \" column is-half\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"media\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"media-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, productImage.map(i => {\n    return React.createElement(\"img\", {\n      src: i.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    });\n  })), React.createElement(\"div\", {\n    className: \"media-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    style: {\n      textTransform: \"capitalize\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Coffee Name: \", p.name), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Blend: \", p.roast), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Price: $\", p.price), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    onClick: () => addCartApi(p),\n    href: \"javascript:void(0)\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Add Cart\")))))))))));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/src/components/Home.js"],"names":["React","useEffect","useState","useSelector","authToken","Alert","productImage","axios","CartContextValue","Home","localStorage","jwtToken","auth","state","products","ProductList","cartData","patch","getCartApi","get","then","response","data","console","log","httpPost","res","json","ok","alert","message","error","addCartApi","productObj","obj","id","price","catch","backgroundColor","color","username","map","p","i","image","textTransform","name","roast"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport authToken from \"../utils/authToken\";\nimport { Alert } from \"react-bootstrap\";\nimport productImage from '../productImage.json';\nimport axios from \"axios\";\nimport {CartContextValue} from './ContextProvider';\n\n\nconst Home = () => {\n  if (localStorage.jwtToken) {\n    authToken(localStorage.jwtToken);\n  }\n\n  const auth = useSelector((state) => state.auth);\n  const [products, ProductList] = useState(\"\");\n  const [cartData,patch] = CartContextValue()\n\n  useEffect(() => {\n    getCartApi()\n    if (products === \"\") {\n      axios.get(\"http://localhost:8081/rest/products\").then((response) => {\n        ProductList(response.data);\n        console.log(\"data\", response.data);\n      });\n    }\n  }, [products]);\n\n  const getCartApi = ()=>{\t\t\n\t\thttpPost(\"api/cart/{username}\",{})\n\t\t.then((res)=>{\t\t\t\t\n\t\t\tres.json() .then(data=>{\n\t\t\t\tif(res.ok){\n\t\t\t\t\tpatch({\n\t\t\t\t\t\t\"type\":\"add_cart\",\n\t\t\t\t\t\t\"data\":data\n\t\t\t\t\t})\n\t\t\t\t\t//alert(\"Successfully added..\")\n\t\t\t\t}else{\n\t\t\t\t\talert(data.message)\n\t\t\t\t}\n\t\t\t})\n\t\t},error=>{\n\t\t\talert(error.message);\n\t\t}\n\t\t)\n  }\n  \n  const addCartApi=(productObj)=>{\n\t\tlet obj = {\n\t\t\t\"productId\":productObj.id,\t\t\t\n\t\t\t\"qty\":\"1\",\n\t\t\t\"price\":productObj.price\n\t\t\t\n\t\t}\n\t\thttpPost(\"aapi/acart/{username}\",obj)\n\t\t.then((res)=>{\t\t\n\t\t\tres.json() .then(data=>{\n\t\t\t\tif(res.ok){\n\t\t\t\t\tpatch({\n\t\t\t\t\t\t\"type\":\"add_cart\",\n\t\t\t\t\t\t\"data\":data\n\t\t\t\t\t})\n\t\t\t\t\talert(\"Successfully added..\")\n\t\t\t\t}else{\n\t\t\t\t\talert(data.message)\n\t\t\t\t}\n\t\t\t})     \n\t\t}).catch(function(res){\n\t\t\tconsole.log(\"Error \",res);\n\t\t\t//alert(error.message);\n\t\t}\n\t\t)\n\t}\n\n  return (\n    <>\n    <Alert style={{ backgroundColor: \"#343A40\", color: \"#ffffff80\" }}>\n      Welcome {auth.username}\n    </Alert>\n        <div className=\"hero is-primary\" text=\"light\">\n          <div className=\"hero-body container\">\n            <h4 className=\"title\">Our Products</h4>\n          </div>\n        </div>\n        <br />\n        <div className=\"container\"  >\n          <div className=\"column columns is-multiline\">\n            {products &&\n              products.map((p) => (\n                <div className=\" column is-half\">\n                  <div className=\"box\">\n                    <div className=\"media\">\n                      <div className=\"media-left\">\n                        {productImage.map(i => {\n                          return( <img src={i.image}/>);\n                        })}\n                      </div>\n                      <div className=\"media-content\">\n                      <b style={{ textTransform: \"capitalize\"}} >\n                        Coffee Name: {p.name}\n                      </b>\n                      <div>Blend: {p.roast}</div>\n                      <div>Price: ${p.price}</div>\n                      <p>\n                      <h5><a onClick={()=>addCartApi(p)} href=\"javascript:void(0)\">Add Cart</a></h5>\n                      </p>\n                      </div>\n                    </div>\n                    \n                  </div>\n                </div>\n                \n              ))}\n          </div>\n        </div>\n      </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}