{"ast":null,"code":"var _jsxFileName = \"/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/src/components/Product/Product.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { saveBook, fetchBook, updateBook, fetchLanguages, fetchGenres } from \"../../services/index\";\nimport { Card, Form, Button, Col, InputGroup, Image } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSave, faPlusSquare, faUndo, faList, faEdit } from \"@fortawesome/free-solid-svg-icons\";\nimport MyToast from \"../MyToast\";\n\nclass Product extends Component {\n  constructor(props) {\n    super(props);\n    this.initialState = {\n      id: \"\",\n      name: \"\",\n      roast: \"\",\n      price: \"\"\n    };\n\n    this.findBookById = bookId => {\n      this.props.fetchBook(bookId);\n      setTimeout(() => {\n        let book = this.props.bookObject.book;\n\n        if (book != null) {\n          this.setState({\n            id: book.id,\n            title: book.title,\n            author: book.author,\n            coverPhotoURL: book.coverPhotoURL,\n            isbnNumber: book.isbnNumber,\n            price: book.price,\n            language: book.language,\n            genre: book.genre\n          });\n        }\n      }, 1000);\n    };\n\n    this.resetBook = () => {\n      this.setState(() => this.initialState);\n    };\n\n    this.submitBook = event => {\n      event.preventDefault();\n      const book = {\n        title: this.state.title,\n        author: this.state.author,\n        coverPhotoURL: this.state.coverPhotoURL,\n        isbnNumber: this.state.isbnNumber,\n        price: this.state.price,\n        language: this.state.language,\n        genre: this.state.genre\n      };\n      this.props.saveBook(book);\n      setTimeout(() => {\n        if (this.props.bookObject.book != null) {\n          this.setState({\n            show: true,\n            method: \"post\"\n          });\n          setTimeout(() => this.setState({\n            show: false\n          }), 3000);\n        } else {\n          this.setState({\n            show: false\n          });\n        }\n      }, 2000);\n      this.setState(this.initialState);\n    };\n\n    this.updateBook = event => {\n      event.preventDefault();\n      const book = {\n        id: this.state.id,\n        title: this.state.title,\n        author: this.state.author,\n        coverPhotoURL: this.state.coverPhotoURL,\n        isbnNumber: this.state.isbnNumber,\n        price: this.state.price,\n        language: this.state.language,\n        genre: this.state.genre\n      };\n      this.props.updateBook(book);\n      setTimeout(() => {\n        if (this.props.bookObject.book != null) {\n          this.setState({\n            show: true,\n            method: \"put\"\n          });\n          setTimeout(() => this.setState({\n            show: false\n          }), 3000);\n        } else {\n          this.setState({\n            show: false\n          });\n        }\n      }, 2000);\n      this.setState(this.initialState);\n    };\n\n    this.bookChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.bookList = () => {\n      return this.props.history.push(\"/list\");\n    };\n\n    this.state = this.initialState;\n  }\n\n  componentDidMount() {\n    const productId = +this.props.match.params.id;\n\n    if (productId) {\n      this.findBookById(bookId);\n    }\n\n    this.findAllLanguages();\n  }\n\n  render() {\n    const _this$state = this.state,\n          title = _this$state.title,\n          author = _this$state.author,\n          coverPhotoURL = _this$state.coverPhotoURL,\n          isbnNumber = _this$state.isbnNumber,\n          price = _this$state.price,\n          language = _this$state.language,\n          genre = _this$state.genre;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: this.state.show ? \"block\" : \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(MyToast, {\n      show: this.state.show,\n      message: this.state.method === \"put\" ? \"Book Updated Successfully.\" : \"Book Saved Successfully.\",\n      type: \"success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })), React.createElement(Card, {\n      className: \"border border-dark bg-dark text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: this.state.id ? faEdit : faPlusSquare,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), \" \", this.state.id ? \"Update Book\" : \"Add New Book\"), React.createElement(Form, {\n      onReset: this.resetBook,\n      onSubmit: this.state.id ? this.updateBook : this.submitBook,\n      id: \"bookFormId\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Title\"), React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"title\",\n      value: title,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridAuthor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Author\"), React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"author\",\n      value: author,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book Author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridCoverPhotoURL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Cover Photo URL\"), React.createElement(InputGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"coverPhotoURL\",\n      value: coverPhotoURL,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book Cover Photo URL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(InputGroup.Append, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, this.state.coverPhotoURL !== \"\" && React.createElement(Image, {\n      src: this.state.coverPhotoURL,\n      roundedRight: true,\n      width: \"40\",\n      height: \"38\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    })))), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridISBNNumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"ISBN Number\"), React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"isbnNumber\",\n      value: isbnNumber,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book ISBN Number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Price\"), React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"test\",\n      name: \"price\",\n      value: price,\n      onChange: this.bookChange,\n      className: \"bg-dark text-white\",\n      placeholder: \"Enter Book Price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridLanguage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Language\"), React.createElement(Form.Control, {\n      required: true,\n      as: \"select\",\n      custom: true,\n      onChange: this.bookChange,\n      name: \"language\",\n      value: language,\n      className: \"bg-dark text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, this.state.languages.map(language => React.createElement(\"option\", {\n      key: language.value,\n      value: language.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, language.display)))), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridGenre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Genre\"), React.createElement(Form.Control, {\n      required: true,\n      as: \"select\",\n      custom: true,\n      onChange: this.bookChange,\n      name: \"genre\",\n      value: genre,\n      className: \"bg-dark text-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, this.state.genres.map(genre => React.createElement(\"option\", {\n      key: genre.value,\n      value: genre.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, genre.display)))))), React.createElement(Card.Footer, {\n      style: {\n        textAlign: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"sm\",\n      variant: \"success\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }), \" \", this.state.id ? \"Update\" : \"Save\"), \" \", React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      type: \"reset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faUndo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }), \" Reset\"), \" \", React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      type: \"button\",\n      onClick: () => this.bookList(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      icon: faList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }), \" Book List\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    bookObject: state.book\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveBook: book => dispatch(saveBook(book)),\n    fetchBook: bookId => dispatch(fetchBook(bookId)),\n    updateBook: book => dispatch(updateBook(book)),\n    fetchLanguages: () => dispatch(fetchLanguages()),\n    fetchGenres: () => dispatch(fetchGenres())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Book);","map":{"version":3,"sources":["/Users/annluu/fa21-172-the-beacons-are-lit/philz-frontend/src/main/webapp/reactjs/src/components/Product/Product.js"],"names":["React","Component","connect","saveBook","fetchBook","updateBook","fetchLanguages","fetchGenres","Card","Form","Button","Col","InputGroup","Image","FontAwesomeIcon","faSave","faPlusSquare","faUndo","faList","faEdit","MyToast","Product","constructor","props","initialState","id","name","roast","price","findBookById","bookId","setTimeout","book","bookObject","setState","title","author","coverPhotoURL","isbnNumber","language","genre","resetBook","submitBook","event","preventDefault","state","show","method","bookChange","target","value","bookList","history","push","componentDidMount","productId","match","params","findAllLanguages","render","display","languages","map","genres","textAlign","mapStateToProps","mapDispatchToProps","dispatch","Book"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport { connect } from \"react-redux\";\nimport {\n  saveBook,\n  fetchBook,\n  updateBook,\n  fetchLanguages,\n  fetchGenres,\n} from \"../../services/index\";\n\nimport { Card, Form, Button, Col, InputGroup, Image } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSave,\n  faPlusSquare,\n  faUndo,\n  faList,\n  faEdit,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport MyToast from \"../MyToast\";\n\nclass Product extends Component {\n    constructor(props) {\n      super(props);\n      this.state = this.initialState;\n    }\n  \n    initialState = {\n      id: \"\",\n      name: \"\",\n      roast: \"\",\n      price: \"\",\n    };\n  \n    componentDidMount() {\n      const productId = +this.props.match.params.id;\n      if (productId) {\n        this.findBookById(bookId);\n      }\n      this.findAllLanguages();\n    }\n  \n    findBookById = (bookId) => {\n      this.props.fetchBook(bookId);\n      setTimeout(() => {\n        let book = this.props.bookObject.book;\n        if (book != null) {\n          this.setState({\n            id: book.id,\n            title: book.title,\n            author: book.author,\n            coverPhotoURL: book.coverPhotoURL,\n            isbnNumber: book.isbnNumber,\n            price: book.price,\n            language: book.language,\n            genre: book.genre,\n          });\n        }\n      }, 1000);\n    };\n  \n    resetBook = () => {\n      this.setState(() => this.initialState);\n    };\n  \n    submitBook = (event) => {\n      event.preventDefault();\n  \n      const book = {\n        title: this.state.title,\n        author: this.state.author,\n        coverPhotoURL: this.state.coverPhotoURL,\n        isbnNumber: this.state.isbnNumber,\n        price: this.state.price,\n        language: this.state.language,\n        genre: this.state.genre,\n      };\n  \n      this.props.saveBook(book);\n      setTimeout(() => {\n        if (this.props.bookObject.book != null) {\n          this.setState({ show: true, method: \"post\" });\n          setTimeout(() => this.setState({ show: false }), 3000);\n        } else {\n          this.setState({ show: false });\n        }\n      }, 2000);\n      this.setState(this.initialState);\n    };\n  \n    updateBook = (event) => {\n      event.preventDefault();\n  \n      const book = {\n        id: this.state.id,\n        title: this.state.title,\n        author: this.state.author,\n        coverPhotoURL: this.state.coverPhotoURL,\n        isbnNumber: this.state.isbnNumber,\n        price: this.state.price,\n        language: this.state.language,\n        genre: this.state.genre,\n      };\n      this.props.updateBook(book);\n      setTimeout(() => {\n        if (this.props.bookObject.book != null) {\n          this.setState({ show: true, method: \"put\" });\n          setTimeout(() => this.setState({ show: false }), 3000);\n        } else {\n          this.setState({ show: false });\n        }\n      }, 2000);\n      this.setState(this.initialState);\n    };\n  \n    bookChange = (event) => {\n      this.setState({\n        [event.target.name]: event.target.value,\n      });\n    };\n  \n    bookList = () => {\n      return this.props.history.push(\"/list\");\n    };\n  \n    render() {\n      const { title, author, coverPhotoURL, isbnNumber, price, language, genre } =\n        this.state;\n  \n      return (\n        <div>\n          <div style={{ display: this.state.show ? \"block\" : \"none\" }}>\n            <MyToast\n              show={this.state.show}\n              message={\n                this.state.method === \"put\"\n                  ? \"Book Updated Successfully.\"\n                  : \"Book Saved Successfully.\"\n              }\n              type={\"success\"}\n            />\n          </div>\n          <Card className={\"border border-dark bg-dark text-white\"}>\n            <Card.Header>\n              <FontAwesomeIcon icon={this.state.id ? faEdit : faPlusSquare} />{\" \"}\n              {this.state.id ? \"Update Book\" : \"Add New Book\"}\n            </Card.Header>\n            <Form\n              onReset={this.resetBook}\n              onSubmit={this.state.id ? this.updateBook : this.submitBook}\n              id=\"bookFormId\"\n            >\n              <Card.Body>\n                <Form.Row>\n                  <Form.Group as={Col} controlId=\"formGridTitle\">\n                    <Form.Label>Title</Form.Label>\n                    <Form.Control\n                      required\n                      autoComplete=\"off\"\n                      type=\"test\"\n                      name=\"title\"\n                      value={title}\n                      onChange={this.bookChange}\n                      className={\"bg-dark text-white\"}\n                      placeholder=\"Enter Book Title\"\n                    />\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"formGridAuthor\">\n                    <Form.Label>Author</Form.Label>\n                    <Form.Control\n                      required\n                      autoComplete=\"off\"\n                      type=\"test\"\n                      name=\"author\"\n                      value={author}\n                      onChange={this.bookChange}\n                      className={\"bg-dark text-white\"}\n                      placeholder=\"Enter Book Author\"\n                    />\n                  </Form.Group>\n                </Form.Row>\n                <Form.Row>\n                  <Form.Group as={Col} controlId=\"formGridCoverPhotoURL\">\n                    <Form.Label>Cover Photo URL</Form.Label>\n                    <InputGroup>\n                      <Form.Control\n                        required\n                        autoComplete=\"off\"\n                        type=\"test\"\n                        name=\"coverPhotoURL\"\n                        value={coverPhotoURL}\n                        onChange={this.bookChange}\n                        className={\"bg-dark text-white\"}\n                        placeholder=\"Enter Book Cover Photo URL\"\n                      />\n                      <InputGroup.Append>\n                        {this.state.coverPhotoURL !== \"\" && (\n                          <Image\n                            src={this.state.coverPhotoURL}\n                            roundedRight\n                            width=\"40\"\n                            height=\"38\"\n                          />\n                        )}\n                      </InputGroup.Append>\n                    </InputGroup>\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"formGridISBNNumber\">\n                    <Form.Label>ISBN Number</Form.Label>\n                    <Form.Control\n                      required\n                      autoComplete=\"off\"\n                      type=\"test\"\n                      name=\"isbnNumber\"\n                      value={isbnNumber}\n                      onChange={this.bookChange}\n                      className={\"bg-dark text-white\"}\n                      placeholder=\"Enter Book ISBN Number\"\n                    />\n                  </Form.Group>\n                </Form.Row>\n                <Form.Row>\n                  <Form.Group as={Col} controlId=\"formGridPrice\">\n                    <Form.Label>Price</Form.Label>\n                    <Form.Control\n                      required\n                      autoComplete=\"off\"\n                      type=\"test\"\n                      name=\"price\"\n                      value={price}\n                      onChange={this.bookChange}\n                      className={\"bg-dark text-white\"}\n                      placeholder=\"Enter Book Price\"\n                    />\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"formGridLanguage\">\n                    <Form.Label>Language</Form.Label>\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      custom\n                      onChange={this.bookChange}\n                      name=\"language\"\n                      value={language}\n                      className={\"bg-dark text-white\"}\n                    >\n                      {this.state.languages.map((language) => (\n                        <option key={language.value} value={language.value}>\n                          {language.display}\n                        </option>\n                      ))}\n                    </Form.Control>\n                  </Form.Group>\n                  <Form.Group as={Col} controlId=\"formGridGenre\">\n                    <Form.Label>Genre</Form.Label>\n                    <Form.Control\n                      required\n                      as=\"select\"\n                      custom\n                      onChange={this.bookChange}\n                      name=\"genre\"\n                      value={genre}\n                      className={\"bg-dark text-white\"}\n                    >\n                      {this.state.genres.map((genre) => (\n                        <option key={genre.value} value={genre.value}>\n                          {genre.display}\n                        </option>\n                      ))}\n                    </Form.Control>\n                  </Form.Group>\n                </Form.Row>\n              </Card.Body>\n              <Card.Footer style={{ textAlign: \"right\" }}>\n                <Button size=\"sm\" variant=\"success\" type=\"submit\">\n                  <FontAwesomeIcon icon={faSave} />{\" \"}\n                  {this.state.id ? \"Update\" : \"Save\"}\n                </Button>{\" \"}\n                <Button size=\"sm\" variant=\"info\" type=\"reset\">\n                  <FontAwesomeIcon icon={faUndo} /> Reset\n                </Button>{\" \"}\n                <Button\n                  size=\"sm\"\n                  variant=\"info\"\n                  type=\"button\"\n                  onClick={() => this.bookList()}\n                >\n                  <FontAwesomeIcon icon={faList} /> Book List\n                </Button>\n              </Card.Footer>\n            </Form>\n          </Card>\n        </div>\n      );\n    }\n  }\n  \n  const mapStateToProps = (state) => {\n    return {\n      bookObject: state.book,\n    };\n  };\n  \n  const mapDispatchToProps = (dispatch) => {\n    return {\n      saveBook: (book) => dispatch(saveBook(book)),\n      fetchBook: (bookId) => dispatch(fetchBook(bookId)),\n      updateBook: (book) => dispatch(updateBook(book)),\n      fetchLanguages: () => dispatch(fetchLanguages()),\n      fetchGenres: () => dispatch(fetchGenres()),\n    };\n  };\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Book);\n  "]},"metadata":{},"sourceType":"module"}